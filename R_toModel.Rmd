---
title       : "R como herramienta de modelado"
subtitle    : Modelos 101
author      : Diego J. Lizcano
job         : ULEAM, Manta
logo        : TSG.png
biglogo     : tsg_logo.gif

twitter     : dlizcano
license     : by-nc-sa  
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : [mathjax, bootstrap, quiz]# 
mode        : selfcontained # {standalone, draft}
assets      : {js: 'test.js', css: "https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css"}

github      : {user: dlizcano, repo: IntroOccuPresent}
knit        : slidify::knit2slides
---


## Modelos en R

Simplificación de un sistema real.   

Permite entender como interactuan o se afectan los parametros si variamos algo.  

> - Modelo de la media
> - Modelo de regresión lineal
> - Modelo de regresión logistica

---

## Modelo de la media

Como el tamanio de la muestra afecta la distribución de la media?. Usaremos el set de datos iris de R y la columna largo del petalo. 

```{r mean, eval=FALSE, echo=TRUE}

str(iris)
iter <- 10000 # Numero de iteraciones
n <- 3 # numero de datos que muestreo. hasta 150
means <- rep(NA, iter) # aca almaceno las medias de cada iteracion

for (i in 1:iter){
  d <- sample(iris$Petal.Length, n) # sample toma 5 n datos 
  means[i] <- mean(d) # saca la media y guarda en means 
}

hist(means)
abline(v=mean(iris$Petal.Length), lty=2, lwd=3, col="blue")

```

---

## Modelo de regresión lineal

Usaremos el set de datos iris de R.

```{r lineal, eval=FALSE, echo=TRUE}

str(iris)

model1 <- lm(Sepal.Length~Petal.Length, data=iris)
summary(model1)
library(ggplot2)
ggplot(model1, aes(x=Petal.Length, y=Sepal.Length)) + geom_point() + 
  geom_smooth(method = "lm")

newdato <- data.frame(Petal.Length= seq(2, 3, by=0.1))
predict(model1, newdata =newdato) # predice sepalo cuando petalo es de 2 a 3

```

---

## Modelo de regresión Logistico

Usaremos el set de datos mtcars de R.

```{r logistic, eval=FALSE, echo=TRUE}

data(mtcars)

model1 <- glm(vs~mpg, data=mtcars)
summary(model1)

library(ggplot2)
ggplot(mtcars, aes(x=mpg, y=vs)) + geom_point() + 
  geom_smooth(method = "glm", method.args = list(family = "binomial"))


```

